<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8"/>
    <title>drawImage-album</title>
    <style>
    </style>
</head>
<body>
<canvas id="canvas" width="150" height="150"></canvas>
<div style="display: none;">
    <img id="source" src="https://mdn.github.io/shared-assets/images/examples/rhino.jpg" width="300" height="227"
         alt=""/>
    <img id="frame"
         src="https://6a1143062f452d57a45ed1656600a053c3e0e1b8.mdnplay.dev/en-US/docs/Web/API/Canvas_API/Tutorial/Using_images/canvas_picture_frame.png"
         width="132" height="150" alt=""/>
</div>

<script type="text/javascript">
    async function draw() {
        // 等待所有图片的加载。
        await Promise.all(Array.from(document.images).map((image) => new Promise((resolve) => image.addEventListener("load", resolve))));
        const canvas = document.getElementById("canvas");
        const ctx = canvas.getContext("2d");
        // 绘制切片
        ctx.drawImage(document.getElementById("source"), 33, 71, 104, 124, 21, 20, 87, 104,);
        // 绘制相框
        ctx.drawImage(document.getElementById("frame"), 0, 0);
    }

    draw();
</script>
</body>
</html>

